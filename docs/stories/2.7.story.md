---
id: story-2.7
title: "Story 2.7: Advanced Filtering - Sector/Industry"
---

### Status
- [ ] Draft
- [X] Approved
- [ ] In Progress
- [ ] Review
- [ ] Done

### Story
**As a** user,
**I want** to filter news by specific market sectors or industries,
**so that** I can focus on areas I specialize in.

### Acceptance Criteria
1. The filter popup includes a multi-select dropdown for 'Sectors/Industries'.
2. The dropdown is populated with a predefined list of common market sectors and industries.
3. The backend service is updated to accept a list of selected sectors/industries.
4. The backend filters news to include only items associated with the selected sectors/industries.
5. This filter works in conjunction with all other active filters.

### Tasks / Subtasks
- [ ] **Task 1: Add Sector/Industry Dropdown** (AC: 1, 2)
  - [ ] Add a multi-select dropdown for 'Sectors/Industries' to the filter popup component.
  - [ ] Populate the dropdown with a predefined list of sectors and industries.
- [ ] **Task 2: Update Backend Service** (AC: 3, 4, 5)
  - [ ] Modify the `GET /news` serverless function to accept a `sectors` query parameter (a comma-separated list).
  - [ ] Update the `NewsRepository` to filter news based on the selected sectors/industries.
  - [ ] Ensure the sector/industry filter works with all other existing filters.
- [ ] **Task 3: Update Frontend Logic**
  - [ ] Update the 'Apply' button logic to include the selected sectors/industries in the API request.
- [ ] **Task 4: Unit Tests**
  - [ ] Write unit tests for the sector/industry filter functionality on the frontend.
  - [ ] Write unit tests for the backend sector/industry filter logic.

### Dev Notes
- **Frontend Architecture:** The new dropdown will be part of the filter popup component. [Source: docs/architecture/10-frontend-architecture.md]
- **Backend Architecture:** The `NewsRepository` will be updated to handle the new sector/industry filter. [Source: docs/architecture/11-backend-architecture.md]
- **API Specification:** The `GET /news` endpoint will be updated to accept the new `sectors` parameter. [Source: docs/architecture/5-api-specification.md]
- **Project Structure:** The relevant files are in `apps/desktop/src/components/filters` and `apps/api/src/news`. [Source: docs/architecture/12-unified-project-structure.md]

#### Testing
- **Testing Framework:** Use Vitest and React Testing Library for frontend tests, and Vitest for backend tests. [Source: docs/architecture/16-testing-strategy.md]
- **Test File Location:** Test files should be located next to the source files. [Source: docs/architecture/16-testing-strategy.md]

### Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2025-08-08 | 1.0 | Initial draft | Bob |

### Dev Agent Record
#### Agent Model Used
{{agent_model_name_version}}
#### Debug Log References
-
#### Completion Notes List
-
#### File List
-

### QA Results
-
