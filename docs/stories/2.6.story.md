---
id: story-2.6
title: "Story 2.6: Advanced Filtering - Keyword Search"
---

### Status
- [ ] Draft
- [X] Approved
- [ ] In Progress
- [ ] Review
- [ ] Done

### Story
**As a** user,
**I want** to add a keyword search to my filter,
**so that** I can find news containing specific terms or company names.

### Acceptance Criteria
1. The filter popup includes a text input field for 'Keyword Search'.
2. The backend service is updated to accept a keyword parameter.
3. The backend filters news to include only items where the headline or summary contains the specified keyword (case-insensitive).
4. The keyword filter works in conjunction with the other filter criteria (Market Cap, Float, etc.).

### Tasks / Subtasks
- [ ] **Task 1: Add Keyword Input Field** (AC: 1)
  - [ ] Add a text input field for 'Keyword Search' to the filter popup component.
- [ ] **Task 2: Update Backend Service** (AC: 2, 3, 4)
  - [ ] Modify the `GET /news` serverless function to accept a `keyword` query parameter.
  - [ ] Update the `NewsRepository` to include a case-insensitive keyword search in the database query.
  - [ ] Ensure the keyword filter works with the other existing filters.
- [ ] **Task 3: Update Frontend Logic**
  - [ ] Update the 'Apply' button logic to include the keyword in the API request.
- [ ] **Task 4: Unit Tests**
  - [ ] Write unit tests for the keyword search functionality on the frontend.
  - [ ] Write unit tests for the backend keyword search logic.

### Dev Notes
- **Frontend Architecture:** The new input field will be part of the filter popup component. [Source: docs/architecture/10-frontend-architecture.md]
- **Backend Architecture:** The `NewsRepository` will be updated to handle the new keyword filter. [Source: docs/architecture/11-backend-architecture.md]
- **API Specification:** The `GET /news` endpoint will be updated to accept the new `keyword` parameter. [Source: docs/architecture/5-api-specification.md]
- **Project Structure:** The relevant files are in `apps/desktop/src/components/filters` and `apps/api/src/news`. [Source: docs/architecture/12-unified-project-structure.md]

#### Testing
- **Testing Framework:** Use Vitest and React Testing Library for frontend tests, and Vitest for backend tests. [Source: docs/architecture/16-testing-strategy.md]
- **Test File Location:** Test files should be located next to the source files. [Source: docs/architecture/16-testing-strategy.md]

### Change Log
| Date | Version | Description | Author |
| --- | --- | --- | --- |
| 2025-08-08 | 1.0 | Initial draft | Bob |

### Dev Agent Record
#### Agent Model Used
{{agent_model_name_version}}
#### Debug Log References
-
#### Completion Notes List
-
#### File List
-

### QA Results
-
